<!DOCTYPE html>
<html>

<head>
  <title>Ready to Roll</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Mono&display=swap" rel="stylesheet">
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
  <header>
    <a href="https://scienceoxford.com" target="_blank"><img src=".\images\so_logo.png" alt="Science Oxford Logo" width="400px" height="auto"></a>
    <h1>CCC - Ready to Roll</h1>
  </header>

  <div id="intro">
    <p>Resources for the 'Ready to Roll' Creative Computing Club.</p>
    <p>During this workshop, you will create electronic dice with a BBC micro:bit.</p>
    <p>This page recaps what <a href="https://bit.ly/Apr22CCC" target="_blank">we discussed as a group</a>.</p>
    <p>To skip to the examples and ideas, <a href="#extensions">click here</a>.</p>
    <br>
  </div>

  <div id="starter" class="left">
    <h3>Creating your first micro:bit program</h3>
    <p><a href="https://raw.githubusercontent.com/ScienceOxford/ready-to-roll/master/examples/starter-imports.py" target="_blank">Click here to find the starter program, with the imports ready.</a></p>
    <p>Open <a href="https://codewith.mu/" target="_blank">the Mu editor</a> on your computer. <strong>If there is code on the screen</strong>, start a New program from the menu.</p>
    <img src="https://raw.githubusercontent.com/ScienceOxford/cyber-pet/master/images/mu_toolbar_new.png" alt="Mu menu, highlighting 'New'" width="1000px" height="auto">
    <p>Type these lines of code into your blank window:</p>
    <pre>from microbit import *
from random import randint, choice
import radio

display.show(Image.HAPPY)</pre>
    <br>
    <p>Plug your micro:bit into the computer, then click Flash:</p>
    <img src="https://raw.githubusercontent.com/ScienceOxford/cyber-pet/master/images/mu_toolbar_flash.png" alt="Mu menu, highlighting 'Flash'" width="1000px" height="auto">
    <p>Some code should be running on your micro:bit!</p>
    <p><strong>If you get a message scrolling across the micro:bit's screen</strong>, this is an error message!</p>
    <p><strong>Debug</strong> your code, then click Flash again to test your changes.</p>
    <p>Once your code is working - change it!</p>
    <p>Instead of <code>HAPPY</code>, can you think of another <code>Image</code> the micro:bit could <code>show</code> on its <code>display</code>?</p>
    <br>
  </div>

  <div id="random-number" class="left">
    <h3>Displaying a random number</h3>
    <p>When you roll a die, you don't know what number is going to come up.</p>
    <p>To add this feature into our program, we need to use the <strong>random</strong> library.</p>
    <p>This has already been <strong>imported</strong> into your program, with this line:</p>
    <pre>from random import randint, choice</pre>
    <br>
    <p>For now, we will use <code>randint</code>, which means create a <strong>random integer</strong> (whole number).</p>
    <br>
    <p>Edit your code so that instead of showing an <code>Image</code> on the micro:bit's <code>display</code>, you show an <strong>integer</strong>.</p>
    <pre>display.show(5)</pre>
    <br>
    <p>Now we want to simulate the rolling of the die - by using a <strong>variable</strong> called <code>roll</code>, and setting this to a <strong>random integer</strong>.</p>
    <p>Add this into your code <strong>above</strong> <code>display.show()</code>.</p>
    <pre>roll = randint(1, 6)</pre>
    <br>
    <p>Finally, change your <code>display.show()</code> line, so that the <strong>value of the variable</strong> is shown instead.</p>
    <p>Your code should now look like this:</p>
    <pre>roll = randint(1, 6)
display.show(roll)</pre>
    <br>
    <p>Test it out - flash the code to your micro:bit and see what number you get.</p>
    <p>Press the <strong>reset button</strong> on the back of the micro:bit to restart your code - which number do you get now?</p>
    <br>
  </div>

  <div id="while-loop" class="left">
    <h3>Using loops</h3>
    <p>Loops allow the micro:bit do do things more than once.</p>
    <p>To start with, we will get the micro:bit to roll itself, forever.</p>
    <p>Above the two lines that choose and display a random integer, add this new line:</p>
    <pre>while True:</pre>
    <br>
    <p>This is Python <strong>syntax</strong> for <strong>forever</strong>.</p>
    <br>
    <p>To put things inside this <strong>forever loop</strong>, we need to <strong>indent them</strong> - this means using the tab or space key on your keyboard to add spaces before the lines.</p>
    <p>Your code should look like this:</p>
    <pre>while True:
    roll = randint(1, 6)
    display.show(roll)</pre>
    <br>
    <p><strong>Try out this code - what do you notice?</strong></p>
    <p>Computers are very quick - when running this code, the number will change so quickly that your eyes can see it! This is why it is flickering.</p>
    <br>
    <p>To fix this, we need to slow it down - telling the micro:bit to pause after each number.</p>
    <p>Add this line to the bottom of your code:</p>
    <pre>    sleep(5000)</pre>
    <br>
  </div>

  <div id="input" class="left">
    <h3>Choosing when to roll</h3>
    <p>Right now, the micro:bit rolls by itself - but you can choose when to roll it.</p>
    <p>Between <code>while True:</code> and <code>roll = randint()</code>, add this new line:</p>
    <pre>    if button_a.was_pressed():</pre>
    <br>Then, the same as we did before, <strong>indent</strong> all of the lines of code that you want to happen <strong>if you press the button</strong>.</p>
    <p>Your code should look like this:</p>
    <pre>while True:
    if button_a.was_pressed():
        roll = randint(1, 6)
        display.show(roll)
        sleep(5000)</pre>
    <br>
    <p>If you would like the number to be cleared from the screen when you are not rolling, expand the code like this:</p>
    <pre>        ...
        sleep(5000)
    else:
        display.clear()</pre>
    <br>
    <p class=debugging><strong>Challenge!</strong> Can you make the micro:bit roll when you shake it, instead of when you press the button? The syntax you will need is:</p>
    <pre>accelerometer.was_gesture('shake')</pre>
    <br>
  </div>

  <div id="radio" class="left">
    <h3>Controlling other dice</h3>
    <p>For this section, you will need a second micro:bit.</p>
    <p><a href="https://raw.githubusercontent.com/ScienceOxford/ready-to-roll/master/examples/ready-to-roll-die2.py" target="_blank">Download this code and flash it to your second micro:bit.</a></p>
    <p><a href="https://raw.githubusercontent.com/ScienceOxford/ready-to-roll/master/examples/ready-to-roll-die2-v1.py" target="_blank"><em>If you are using a micro:bit v1 the use this code instead!</em></a></p>
    <p>Unplug this second micro:bit, attach a battery to it, and leave it to one side.</p>
    <br>
    <p>Plug your original micro:bit back in, and add the following code to your program, <strong>above the<code> while True </code>loop</strong>.</p>
    <pre>radio.on()
radio.config(channel=7)</pre>
    <br>
    <p>If you are in our workshop, replace<code> channel=7 </code>with the number of your computer.</p>
    <br>
    <p>Inside your<code> while True </code>loop, before the<code> sleep() </code>, add this new line:</p>
    <pre>        radio.send(str(roll))</pre>
    <br>
    <p>This converts the dice roll into the right format <code>str()</code>, then sends it over the radio.</p>
    <p><strong>What happens when you roll your die now? Look at the second micro:bit.</strong></p>
    <br>
  </div>

  <div id="extensions" class="left">
    <h3>What next?</h3>
    <p>You have a basic die now, what do you want to add next?</p>
    <p>The links below give you some other ideas of things you could add to your project.</p>
    <br>
  </div>

  <nav class="links bg_green">
    <a href="Design-Images.pdf" target="_blank">design your own dice faces</a>
    <a href="dnd.html" target="_blank">3-in-1 dice!</a>
    <a href="die2.html" target="_blank">edit the second micro:bit code</a>
  </nav>

  <footer class="links">
    <a href="https://github.com/ScienceOxford/rtc/" target="_blank">View on GitHub</a>
  </footer>

</body>

</html>
